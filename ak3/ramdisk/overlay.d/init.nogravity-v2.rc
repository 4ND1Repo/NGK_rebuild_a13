# nogravity initialization script

on early-init
    # Nothing

on init
    # Nothing

on post-fs
    # Nothing

on boot
    # Nothing

on property:sys.boot_completed=1
    # SILVER Cluster
    write /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor blu_schedutil
    write /sys/devices/system/cpu/cpu0/cpufreq/scaling_min_freq 300000
    write /sys/module/cpu_input_boost/parameters/remove_input_boost_freq_lp 300000
    write /sys/devices/system/cpu/cpu0/cpufreq/scaling_max_freq 1766400
    write /sys/devices/system/cpu/cpu0/cpufreq/schedutil/up_rate_limit_us 500
    write /sys/devices/system/cpu/cpu0/cpufreq/schedutil/down_rate_limit_us 2000
    write /sys/devices/system/cpu/cpu0/cpufreq/schedutil/exp_util 0
    write /sys/devices/system/cpu/cpu0/cpufreq/schedutil/hispeed_freq 1228800
    write /sys/devices/system/cpu/cpufreq/policy0/scaling_max_freq 1516800

    # GOLD Cluster
    write /sys/devices/system/cpu/cpu4/cpufreq/scaling_governor schedutil
    write /sys/devices/system/cpu/cpu4/cpufreq/scaling_min_freq 825600
    write /sys/module/cpu_input_boost/parameters/remove_input_boost_freq_perf 825600
    #write /sys/devices/system/cpu/cpu4/cpufreq/scaling_max_freq 2803200
    write /sys/devices/system/cpu/cpu4/cpufreq/scaling_max_freq 2803200
    write /sys/devices/system/cpu/cpu4/cpufreq/schedutil/up_rate_limit_us 500
    write /sys/devices/system/cpu/cpu4/cpufreq/schedutil/down_rate_limit_us 2000
    write /sys/devices/system/cpu/cpu4/cpufreq/schedutil/exp_util 0
    write /sys/devices/system/cpu/cpu0/cpufreq/schedutil/hispeed_freq 1612800
    write /sys/devices/system/cpu/cpufreq/policy4/scaling_max_freq 2803200

    # according to Qcom this legacy value improves first launch latencies
    # stock value is 512k
    # from franciscofranco
    setprop dalvik.vm.heapminfree 2m

    # TCP Congestion
    write /proc/sys/net/ipv4/tcp_congestion_control westwood

    #GPU
    write /sys/class/kgsl/kgsl-3d0/max_clock_mhz 800
    write /sys/class/kgsl/kgsl-3d0/min_clock_mhz 160
